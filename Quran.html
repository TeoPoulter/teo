<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quran Memorisation</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap">
    <link rel="icon" type="image/jpeg" href="https://i.imgur.com/peUGC7J.jpeg">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background: linear-gradient(135deg, #1f1c2c, #928DAB);
            color: #f5f5f5;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            overflow-x: hidden;
        }

        h1 {
            color: #4caf50;
            margin-top: 40px;
            font-size: 3em;
            letter-spacing: 2px;
            transition: color 0.4s ease;
        }

        h1:hover {
            color: #81c784;
        }

        ul {
            list-style: none;
            padding: 0;
            width: 100%;
            max-width: 900px;
            margin: 20px 0;
        }

        li {
            background: rgba(0, 0, 0, 0.8);
            margin: 15px 0;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        li:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.4);
        }

        button {
            background: linear-gradient(45deg, #4caf50, #81c784);
            border: none;
            padding: 14px 28px;
            border-radius: 10px;
            color: #ffffff;
            font-size: 1.1em;
            font-weight: 700;
            cursor: pointer;
            transition: background 0.3s ease, transform 0.3s ease;
        }

        button:hover {
            background: linear-gradient(45deg, #81c784, #4caf50);
            transform: scale(1.05);
        }

        button:active {
            background: linear-gradient(45deg, #66bb6a, #43a047);
            transform: scale(0.95);
        }

        button.playing {
            background: #43a047;
        }

        /* Custom Audio Player Styles */
        #customPlayer {
            width: 100%;
            max-width: 900px;
            margin-top: 30px;
            border-radius: 15px;
            background: rgba(0, 0, 0, 0.8);
            padding: 20px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
            display: none;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        #customPlayer .controls {
            display: flex;
            justify-content: space-around;
            width: 100%;
        }

        #customPlayer .controls button {
            background: #333;
            color: #fff;
            padding: 14px;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2em;
            transition: background 0.3s ease;
        }

        #customPlayer .controls button:hover {
            background: #555;
        }

        #customPlayer .controls button:active {
            background: #222;
        }

        #customPlayer .controls button.playPause.playing {
            background: #4caf50;
        }

        #customPlayer .track-info {
            margin-bottom: 20px;
        }

        #customPlayer .track-info p {
            margin: 0;
            font-size: 1.1em;
        }

        #customPlayer .track-info p.title {
            font-size: 1.4em;
            font-weight: 700;
            margin-bottom: 10px;
        }

        #settings {
            margin-top: 10px;
        }

        #settings label {
            font-size: 1.1em;
            margin-right: 10px;
        }

        #settings select {
            background: #333;
            color: #fff;
            border: none;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
        }

        @media (max-width: 600px) {
            h1 {
                font-size: 2.5em;
            }

            li {
                flex-direction: column;
                align-items: flex-start;
            }

            button {
                width: 100%;
                margin-top: 10px;
                text-align: center;
            }

            #customPlayer .controls {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <h1>Quran Memorisation</h1>
    <ul id="surahList">
        <!-- Surahs will be dynamically generated here -->
    </ul>

    <div id="customPlayer">
        <div class="track-info">
            <p class="title" id="trackTitle"></p>
        </div>
        <div class="controls">
            <button id="playPauseButton" class="playPause" onclick="togglePlayPause()">&#9654;</button>
            <button onclick="repeatTrack()">&#x21bb;</button>
        </div>
        <div id="settings">
            <label for="repeatMode">Repeat Mode:</label>
            <select id="repeatMode" onchange="setRepeatMode()">
                <option value="none">None</option>
                <option value="track">Repeat Track</option>
                <option value="playlist">Repeat Playlist</option>
            </select>
        </div>
    </div>

    <script>
        const surahList = [
            "Al-Fatiha", "Al-Baqarah", "Aal-E-Imran", "An-Nisa", "Al-Ma'idah",
            "Al-An'am", "Al-A'raf", "Al-Anfal", "At-Tawbah", "Yunus", "Hud",
            "Yusuf", "Ar-Ra'd", "Ibrahim", "Al-Hijr", "An-Nahl", "Al-Isra",
            "Al-Kahf", "Maryam", "Ta-Ha", "Al-Anbiya", "Al-Hajj", "Al-Mu'minun",
            "An-Nur", "Al-Furqan", "Ash-Shu'ara", "An-Naml", "Al-Qasas",
            "Al-Ankabut", "Ar-Rum", "Luqman", "As-Sajda", "Al-Ahzab", "Saba",
            "Fatir", "Ya-Sin", "As-Saffat", "Sad", "Az-Zumar", "Ghafir",
            "Fussilat", "Ash-Shura", "Az-Zukhruf", "Ad-Dukhan", "Al-Jathiya",
            "Al-Ahqaf", "Muhammad", "Al-Fath", "Al-Hujurat", "Qaf",
            "Adh-Dhariyat", "At-Tur", "An-Najm", "Al-Qamar", "Ar-Rahman",
            "Al-Waqi'ah", "Al-Hadid", "Al-Mujadila", "Al-Hashr", "Al-Mumtahina",
            "As-Saff", "Al-Jumu'ah", "Al-Munafiqun", "At-Taghabun", "At-Talaq",
            "At-Tahrim", "Al-Mulk", "Al-Qalam", "Al-Haaqqa", "Al-Ma'arij",
            "Nuh", "Al-Jinn", "Al-Muzzammil", "Al-Muddathir", "Al-Qiyamah",
            "Al-Insan", "Al-Mursalat", "An-Naba", "An-Nazi'at", "Abasa",
            "At-Takwir", "Al-Infitar", "Al-Mutaffifin", "Al-Inshiqaq",
            "Al-Buruj", "At-Tariq", "Al-A'la", "Al-Ghashiya", "Al-Fajr",
            "Al-Balad", "Ash-Shams", "Al-Lail", "Ad-Duha", "Ash-Sharh",
            "At-Tin", "Al-Alaq", "Al-Qadr", "Al-Bayyina", "Az-Zalzalah",
            "Al-Adiyat", "Al-Qari'ah", "At-Takathur", "Al-Asr", "Al-Humazah",
            "Al-Fil", "Quraish", "Al-Ma'un", "Al-Kawthar", "Al-Kafirun",
            "An-Nasr", "Al-Masad", "Al-Ikhlas", "Al-Falaq", "An-Nas"
        ];

        let currentSurah = null;
        let currentIndex = null;
        let isRepeating = false;
        let repeatMode = 'none';

        const audio = new Audio();
        const surahListElement = document.getElementById('surahList');
        const playPauseButton = document.getElementById('playPauseButton');
        const trackTitle = document.getElementById('trackTitle');
        const customPlayer = document.getElementById('customPlayer');

        surahList.forEach((surah, index) => {
            const listItem = document.createElement('li');
            listItem.innerHTML = `Surah ${index + 1}: ${surah} <button id="playButton${index}" onclick="playSurah(${index})">Play</button>`;
            surahListElement.appendChild(listItem);
        });

        function playSurah(index) {
            if (currentIndex === index && !audio.paused) {
                togglePlayPause();
                return;
            }

            currentIndex = index;
            currentSurah = surahList[index];
            audio.src = `https://github.com/TeoPoulter/teo/blob/main/${String(index + 1).padStart(3, '0')}.mp3?raw=true`;
            audio.play();

            updateUIForPlayingSurah();
        }

        function togglePlayPause() {
            if (audio.paused) {
                audio.play();
                playPauseButton.innerHTML = '&#10074;&#10074;';
                updatePlayButtonUI('playing');
            } else {
                audio.pause();
                playPauseButton.innerHTML = '&#9654;';
                updatePlayButtonUI('');
            }
        }

        function updateUIForPlayingSurah() {
            trackTitle.textContent = `Now Playing: Surah ${currentIndex + 1} - ${currentSurah}`;
            playPauseButton.innerHTML = '&#10074;&#10074;';
            updatePlayButtonUI('playing');
            customPlayer.style.display = 'flex';
        }

        function updatePlayButtonUI(state) {
            surahListElement.querySelectorAll('button').forEach(button => {
                button.classList.remove('playing');
                button.textContent = 'Play';
            });
            const currentButton = document.getElementById(`playButton${currentIndex}`);
            currentButton.classList.add(state);
            currentButton.textContent = state === 'playing' ? 'Pause' : 'Play';
        }

        function repeatTrack() {
            isRepeating = !isRepeating;
            audio.loop = isRepeating;
            alert(`Repeat Track: ${isRepeating ? 'On' : 'Off'}`);
        }

        function setRepeatMode() {
            repeatMode = document.getElementById('repeatMode').value;
            if (repeatMode === 'track') {
                audio.loop = true;
            } else {
                audio.loop = false;
            }
        }

        audio.onended = () => {
            if (repeatMode === 'track') {
                audio.play();
            } else if (repeatMode === 'playlist') {
                playNextSurah();
            } else {
                updatePlayButtonUI('');
                playPauseButton.innerHTML = '&#9654;';
            }
        };

        function playNextSurah() {
            if (currentIndex < surahList.length - 1) {
                playSurah(currentIndex + 1);
            } else if (repeatMode === 'playlist') {
                playSurah(0);
            }
        }
    </script>
</body>
</html>
